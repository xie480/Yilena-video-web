<script setup>
import { ref, reactive, onMounted } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter();

const index = ref('');

const getIndex = () => {
  const pathArr = router.currentRoute.value.path.split('/');
  index.value = '/' + pathArr[1];
}


onMounted(() => {
    getIndex();
  document.body.classList.add('no-scroll');
});
</script>

<template>
 <div class="common-layout">
    <div>
      <div class="index-header">
        <svg t="1746365335015" class="top-icon" viewBox="0 0 2299 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3232" width="200" height="200"><path d="M1776.040306 322.618853a497.5306 497.5306 0 0 1 55.146298-6.026207c3.013104 4.508817 24.061475 155.944368 18.555516 156.94151s-44.632952 10.036453-44.632952 10.036453c-3.013104-20.5498-28.570291-147.923876-29.090539-160.951756m75.219204-14.54527l20.5498 162.967718a2379.701518 2379.701518 0 0 0 57.16226-4.010246 20057.059972 20057.059972 0 0 0-16.539554-158.957472 156.984864 156.984864 0 0 0-61.172506 0m-40.601029 226.156185s92.755901-23.562904 126.355258-12.030738c17.038125 61.671077 48.144626 407.65774 51.136052 421.70444-21.070048 2.514532-90.263045 8.519063-95.769004 10.036453-4.508817-26.012405-81.722306-403.192278-81.722306-419.688478m343.472131-207.578992a540.971316 540.971316 0 0 1 55.167976-1.51739c0.997142 12.030737 6.026207 157.440081 0.498571 157.938652l-44.632951 4.010246c-0.997142-20.051229-12.030737-146.926734-11.033596-160.409831m75.717776-4.010246l4.010246 160.951756c10.535024 0 52.653443 2.514532 57.16226 2.015961-0.997142-61.671077 0-158.957472 0-158.957471a277.032113 277.032113 0 0 0-61.172506-4.010246m-64.68418 216.119732s94.771862-12.529308 126.853828 2.514532c7.023349 72.206101 6.026207 408.654883 7.023349 422.701581-21.568619 0-90.263045 0.997142-95.769004 2.015962-0.997142-26.012405-39.603887-410.670844-38.108173-427.210398M1945.012553 125.054637c54.647728 278.787951 96.267576 755.140117 97.784966 785.72637 0 0 43.115561 0.997142 91.758759 4.010246-28.591969-300.35657-63.687038-780.220411-63.188468-795.762823-12.030737-13.548128-126.355257 6.026207-126.355257 6.026207m-120.32905 659.371113c-10.535024-78.232308-290.320117-166.912932-447.760198-138.385995 0 0-19.509304-172.483922-27.074578-339.461885-6.503101-143.41506-0.997142-282.798196 0.498571-305.862529-10.535024-7.52192-123.840725 46.627236-185.034908 69.192997 0 0 73.203243 309.98116 126.355257 952.704334A862.57135 862.57135 0 0 0 1521.725693 1003.645293c145.409344-28.180105 317.394695-115.820233 302.849425-219.111158M1482.707085 925.326277l-24.560045-176.992739a1281.501133 1281.501133 0 0 1 172.982493 63.188467c-2.514532 11.033595-148.422448 113.825949-148.422448 113.825949m-871.97917-602.620716a497.5306 497.5306 0 0 1 55.146299-6.026207c3.013104 4.508817 24.061475 155.944368 18.555516 156.94151s-44.632952 10.036453-44.632952 10.036453c-3.013104-20.5498-28.570291-147.923876-29.09054-160.951756m75.219205-14.54527l20.5498 162.967718a2379.701518 2379.701518 0 0 0 57.16226-4.010246c-6.503101-61.671077-16.539554-158.957472-16.539554-158.957472a156.984864 156.984864 0 0 0-61.172506 0M645.324414 534.229768s92.755901-23.562904 126.355257-12.030738c17.038125 61.671077 48.144626 407.65774 51.136053 421.70444-21.070048 2.514532-90.263045 8.519063-95.769004 10.036453-4.508817-26.012405-81.722306-403.192278-81.722306-419.688478m343.472131-207.578992A540.971316 540.971316 0 0 1 1043.964521 325.155063c0.997142 12.030737 6.026207 157.440081 0.498571 157.938652l-44.632952 4.010246c-0.997142-20.051229-11.532166-146.926734-11.033595-160.409831m75.717776-4.010246l4.010246 160.951756c10.535024 0 52.653443 2.514532 57.16226 2.015961-0.997142-61.671077 0-158.957472 0-158.957471a311.173395 311.173395 0 0 0-61.172506-4.010246m-64.684181 216.119732s94.771862-12.529308 126.853829 2.514532c7.023349 72.206101 6.026207 408.654883 7.023349 422.701581-21.568619 0-90.263045 0.997142-95.769004 2.015962-0.498571-26.012405-39.603887-410.670844-38.108174-427.210398M779.72184 125.054637c54.647728 278.787951 96.267576 755.140117 97.784966 785.72637 0 0 43.115561 0.997142 91.758758 4.010246C940.673596 614.45636 905.578526 134.592519 906.098774 118.551536c-12.030737-13.006203-126.355257 6.503101-126.355257 6.503101m-120.372404 659.371113c-10.535024-78.232308-290.320117-166.912932-447.760198-138.385995 0 0-19.509304-172.483922-27.074578-339.461885C178.011558 163.16281 183.517517 23.844705 185.034908 0.715341 174.499884-6.308008 61.172506 47.342577 0 69.908338c0 0 73.203243 309.98116 126.355257 952.704334a862.57135 862.57135 0 0 0 230.166431-18.967379c145.409344-28.180105 317.394695-115.820233 302.849425-219.111158m-341.976418 140.900527l-24.560046-176.992739a1281.501133 1281.501133 0 0 1 172.982494 63.188467c-2.514532 11.033595-148.422448 113.825949-148.422448 113.825949" p-id="3233"></path></svg>
       <span class="index-title">后台管理系统</span>  
    </div>
        <div width="200px" class="index-aside">
            <el-menu
        :default-active="index"
        class="el-menu-vertical-demo"
        router
      >
      <el-menu-item index="/index">
        <el-icon><HomeFilled /></el-icon>
          <span>&nbsp;&nbsp;&nbsp;首页</span>
        </el-menu-item>
        <el-menu-item index="/dataShow">
          <el-icon><Histogram /></el-icon>
          <span>&nbsp;&nbsp;&nbsp;数据趋势</span>
        </el-menu-item>
        <el-menu-item index="/video">
          <el-icon><Stamp /></el-icon>
          <span>&nbsp;&nbsp;&nbsp;视频审核</span>
        </el-menu-item>
        <el-menu-item index="/post">
          <el-icon><Sunny /></el-icon>
          <span>&nbsp;&nbsp;&nbsp;动态管理</span>
        </el-menu-item>
        <el-menu-item index="/user">
            <el-icon><List /></el-icon>
          <span>&nbsp;&nbsp;&nbsp;用户管理</span>
        </el-menu-item>
        <el-menu-item index="/manager">
            <el-icon><Avatar /></el-icon>
          <span>&nbsp;&nbsp;&nbsp;管理员列表</span>
        </el-menu-item>
        <el-menu-item index="/log">
        <el-icon><Menu /></el-icon>
          <span>&nbsp;&nbsp;&nbsp;日志一览</span>
        </el-menu-item>
      </el-menu>
        </div>
        <div class="index-main">
            <img class="index-bg" src="@/assets/pic/light_bg.8e46311e.png">
            <router-view></router-view>
        </div>
        </div>
  </div>
</template>

<style>
.index-main{
    position: absolute;
    top:58px;
    height: calc(100% - 58px);
    width: calc(100% - 238px);
    left: 238px;
}

.el-menu-item{
    margin-bottom: 20px;
    width: 100%;
    height: 100%;
}

.el-menu-vertical-demo{
    position: relative;
    top: 20px;
}

/* 禁止滚动并固定滚动条宽度 */
.no-scroll {
  overflow: hidden;
  /* 滚动条宽度需与全局样式一致，避免布局抖动 */
  width: calc(100% - 7px); /* 假设滚动条宽度为7px  */
}

.index-title{
    color: rgb(255, 255, 255);
    font-size: 25px;
    font-weight: 600;
    position: relative;
    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    top: -10px;
    left: -25px;
}

.top-icon{
    margin-top: 8px;
    margin-left: -20px;
    height: 45px;
    fill: #fff;;
}

.index-header{
    position: relative;
    top: -10px;
    width: 1700px;
    left: -10px;
    background: linear-gradient(to right, #72CEFF, #B3E5FC);
}


.index-bg{
    z-index: -50;
    position: absolute;
    top: -105px;
    height: 880px;
    left: -80px;
}

/* 侧边栏样式 */
.index-aside {
  position: relative;
  margin-top: -10px;
  margin-left: -10px;
  width: 240px;
  height: 777px;
  background-color: #F0F8FF;
  border-right: 1px solid #E1F5FE;
  padding: 0 0;
}

.index-aside .el-menu {
  background-color: transparent;
  border-right: none;
}

.index-aside .el-menu-item {
  color: #333333;
  font-size: 14px;
  height: 40px;
  line-height: 40px;
}

.index-aside .el-menu-item.is-active {
  background-color: #E0F7FA;
  color: rgb(47, 186, 255);
}

</style>
